---
name: ccp-task-reporter
description: "タスク内容をユーザーに報告し確認を求めるスキル"
metadata:
  skillport:
    category: pm
    tags: [task, report, confirm, start]
    alwaysApply: false
---

# Task Reporter

識別されたタスクをユーザーにわかりやすく報告し、作業開始の確認を求めるスキル。

---

## 目的

`/start-task` ワークフローで：
- 特定されたタスクをユーザーに提示
- タスクの詳細と範囲を説明
- 作業開始の承認を得る

---

## 入力

| 項目 | 説明 |
|------|------|
| `priority_task` | 優先タスク |
| `task_details` | タスクの詳細 |
| `task_scope` | 影響範囲 |

---

## 出力

| 項目 | 説明 |
|------|------|
| `user_message` | ユーザー向けメッセージ |
| `user_approved` | ユーザーが承認したか |

---

## レポートフォーマット

```markdown
## 📋 本日のタスク

**メインタスク**: {{priority_task}}

---

### 概要
{{task_details}}

### 影響範囲
{{task_scope}}

### 完了条件
- [ ] {{condition_1}}
- [ ] {{condition_2}}
- [ ] {{condition_3}}

---

🚀 **作業を開始しますか？** (y/n)

---

完了したら `/handoff-to-cursor` で報告します。
```

---

## タスク情報の抽出

### Plans.md からの抽出

```markdown
## フェーズ2: コア機能

- [ ] cursor:依頼中 - ユーザー認証機能
  - ログイン/ログアウト
  - セッション管理
  - パスワードリセット
```

↓ 抽出結果

```yaml
priority_task: "ユーザー認証機能"
task_details: |
  - ログイン/ログアウト機能の実装
  - セッション管理の追加
  - パスワードリセット機能
task_scope: |
  - src/auth/
  - src/api/auth/
  - src/pages/login/
```

---

## スコープの判定

### 変更対象ファイルの推定

タスク内容から変更が予想されるファイル/ディレクトリを推定：

| キーワード | 推定される範囲 |
|-----------|---------------|
| 認証 | src/auth/, src/api/auth/ |
| ユーザー | src/users/, src/api/users/ |
| UI, 画面 | src/components/, src/pages/ |
| API | src/api/, app/api/ |
| データベース | src/models/, migrations/ |

---

## 確認オプション

### 承認時

```markdown
✅ 了解しました。作業を開始します。

進捗は随時報告します。
問題があればすぐにお知らせします。
```

### 拒否/延期時

```markdown
⏸️ 了解しました。

他に作業したいタスクがあれば教えてください。
または「計画を見せて」で全体を確認できます。
```

---

## 複数タスクがある場合

```markdown
## 📋 本日のタスク候補

以下のタスクが待機中です：

| # | タスク | 優先度 | 依頼元 |
|---|--------|--------|--------|
| 1 | ユーザー認証 | 高 | Cursor |
| 2 | 検索機能 | 中 | - |
| 3 | UI改善 | 低 | - |

**推奨**: #1 の「ユーザー認証」から始めることを推奨します。

どのタスクを開始しますか？
- 「1番をやって」
- 「全部やって」
- 「他のを教えて」
```

---

## 注意事項

- タスクの詳細が不明確な場合は確認を求める
- スコープが大きすぎる場合は分割を提案
- ユーザーの承認なしに作業を開始しない
