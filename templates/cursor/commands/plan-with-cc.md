# /plan-with-cc - Claude Code と計画を立てる

プロジェクトの計画を Claude Code と一緒に立てます。
「何をしたいか」を伝えるだけで、タスク分解と Plans.md への追加を行います。

---

## 使い方

```
/plan-with-cc ユーザー管理機能を作りたい
```

または自然言語で：
- 「〇〇を作りたいんだけど、どう進めればいい？」
- 「次に何をすべきか相談したい」
- 「このプロジェクトで何ができるか教えて」

---

## 実行フロー

### Step 1: 要望のヒアリング

ユーザーの要望を確認:

```markdown
## 🎯 やりたいこと

{{ユーザーの入力}}

---

### 確認事項

1. **目的**: 何を達成したいですか？
2. **優先度**: 急ぎですか？
3. **制約**: 特別な条件はありますか？
```

### Step 2: 現状の確認

```bash
# プロジェクト構造を確認
ls -la

# 既存のタスクを確認
cat Plans.md

# 技術スタックを確認（package.json など）
```

### Step 3: タスク分解の提案

```markdown
## 📋 提案するタスク分解

「{{やりたいこと}}」を実現するために、以下のタスクを提案します:

### フェーズ 1: 基盤構築
- [ ] タスク1の説明
- [ ] タスク2の説明

### フェーズ 2: 機能実装
- [ ] タスク3の説明
- [ ] タスク4の説明

### フェーズ 3: 仕上げ
- [ ] タスク5の説明

---

**この計画でよろしいですか？**
- 「OK」→ Plans.md に追加して Claude Code に依頼
- 「修正して」→ 調整
- 「もっと詳しく」→ 各タスクを詳細化
```

### Step 4: Plans.md への追加

承認後、Plans.md を更新:

```markdown
## 🟡 未着手のタスク

- [ ] タスク1 `cursor:依頼中`
  - 概要: {{概要}}
  - 完了条件: {{条件}}
```

### Step 5: Claude Code への引き継ぎ

```markdown
## 📋 計画完了

Plans.md にタスクを追加しました。

**次のステップ:**
1. Claude Code を開く
2. `/start-task` を実行
3. または「最初のタスクをお願い」と言う

---

**Claude Code への申し送り:**

以下のタスクが依頼されています:
{{タスク一覧}}

優先度の高いものから順に進めてください。
```

---

## 会話例

### 例1: 機能追加の相談

```
ユーザー: /plan-with-cc ダークモードを追加したい

Cursor:
🎯 ダークモードの追加ですね。確認させてください：

1. 全ページに適用しますか？
2. システム設定に連動させますか？
3. ユーザーが切り替えられるようにしますか？

ユーザー: 全ページで、切り替えボタンを付けて

Cursor:
📋 以下のタスクを提案します：

1. テーマ切り替えの状態管理を実装
2. ダークモード用のカラーパレットを定義
3. 全コンポーネントにテーマを適用
4. 切り替えボタンをヘッダーに追加
5. ユーザー設定の永続化

この計画で進めますか？
```

### 例2: 漠然とした相談

```
ユーザー: /plan-with-cc 次に何をすべきかわからない

Cursor:
📊 現在の状況を確認しました：

- 完了: 5タスク
- 未着手: 2タスク
- 進行中: なし

**未着手のタスク:**
1. テストの追加
2. ドキュメント整備

**提案:**
- テストを先に書くことで品質を担保できます
- または、新機能のアイデアがあれば教えてください

どうしますか？
```

---

## 関連コマンド

| コマンド | 用途 |
|---------|------|
| `/start-session` | 状況確認から始める |
| `/assign-to-cc` | 具体的なタスクを依頼 |
| `/project-overview` | プロジェクト全体を確認 |
